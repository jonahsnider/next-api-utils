## API Report File for "next-api-utils"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="bun-types" />
/// <reference types="node" />

import { Http } from '@jonahsnider/util';
import { NextRequest } from 'next/server.js';
import { NextResponse } from 'next/server.js';
import type { Schema } from 'zod';
import { z } from 'zod';

// @public
export type BaseException<T> = {
    [TO_RESPONSE]: () => NextResponse<T>;
};

// @public
export class BaseValidationException extends Error implements ValidationExceptionSchema {
    // (undocumented)
    [TO_RESPONSE](): NextResponse<ValidationExceptionSchema>;
    constructor(message: string, statusCode: Http.Status, code: _ExceptionCode | undefined);
    // (undocumented)
    readonly code: _ExceptionCode | undefined;
    // (undocumented)
    readonly error: string;
    // (undocumented)
    readonly statusCode: Http.Status;
}

// @public
export enum _ExceptionCode {
    // (undocumented)
    InvalidBody = "E_INVALID_BODY",
    // (undocumented)
    InvalidPathParameters = "E_INVALID_PATH_PARAMS",
    // (undocumented)
    InvalidQueryParameters = "E_INVALID_QUERY_PARAMS"
}

// @public
export class ExceptionWrapper<Exception extends BaseException<unknown>> {
    constructor(isException?: IsException<Exception> | undefined);
    wrapRoute<ResponseBody, Context extends NextRouteHandlerContext = NextRouteHandlerContext>(route: NextRouteHandler<ResponseBody, Context>): (...parameters: Parameters<NextRouteHandler<ResponseBody, Context>>) => Promise<NextResponse<unknown>>;
}

// @public
export class InvalidBodyException extends BaseValidationException {
    constructor(zodError: z.ZodError<unknown>);
}

// @public
export class InvalidPathParametersException extends BaseValidationException {
    constructor(zodError: z.ZodError<unknown>);
}

// @public
export class InvalidQueryParametersException extends BaseValidationException {
    constructor(zodError: z.ZodError<unknown>);
}

// @public (undocumented)
export type IsException<Exception extends BaseException<unknown>> = (error: unknown) => error is Exception;

// @public
export type NextRouteHandler<ResponseBody = unknown, Context extends NextRouteHandlerContext = NextRouteHandlerContext> = NextRouteHandlerContext extends Context ? (request: NextRequest) => NextResponse<ResponseBody> | PromiseLike<NextResponse<ResponseBody>> : (request: NextRequest, context: Context) => NextResponse<ResponseBody> | PromiseLike<NextResponse<ResponseBody>>;

// @public
export type NextRouteHandlerContext<PathParameters extends Record<string, string> = Record<never, never>> = {
    params: PathParameters;
};

// @public
export type ParsedRequest<RequestBody = never, QueryParameters extends undefined | Record<string, unknown> = never, PathParameters extends undefined | Record<string, string | string[]> = never> = {
    body: never extends RequestBody ? undefined : RequestBody;
    query: never extends QueryParameters ? undefined : QueryParameters;
    params: never extends PathParameters ? undefined : PathParameters;
};

// @public
export const QueryBooleanSchema: z.ZodPipeline<z.ZodEffects<z.ZodUnion<[z.ZodString, z.ZodBoolean]>, boolean | undefined, string | boolean>, z.ZodBoolean>;

// @public
export type QueryBooleanSchema = z.infer<typeof QueryBooleanSchema>;

// @public
export type RequestSchema<RequestBody extends z.Schema | undefined = never, QueryParameters extends z.Schema | undefined = never, PathParameters extends z.Schema | undefined = never> = {
    body: never extends RequestBody ? undefined : RequestBody;
    query: never extends QueryParameters ? undefined : QueryParameters;
    params: never extends PathParameters ? undefined : PathParameters;
};

// @public
export type RequestSchemaToParsedRequest<T extends RequestSchema> = ParsedRequest<z.infer<T['body']>, z.infer<T['query']>, z.infer<T['params']>>;

// @public
export const TO_RESPONSE: unique symbol;

// @public
export function validateBody<T extends Schema>(request: Pick<NextRequest, 'json'>, schema: T): Promise<z.infer<T>>;

// @public
export function validateParams<T extends Schema>(context: NextRouteHandlerContext, schema: T): z.infer<T>;

// @public
export function validateQuery<T extends Schema>(request: Pick<NextRequest, 'url'>, schema: T): z.infer<T>;

// @public
export function validateRequest<T extends RequestSchema<z.Schema, z.Schema, never>>(request: NextRequest, requestSchema: T): Promise<RequestSchemaToParsedRequest<T>>;

// @public
export function validateRequest<T extends RequestSchema<z.Schema, z.Schema, z.Schema>>(request: NextRequest, context: NextRouteHandlerContext, requestSchema: T): Promise<RequestSchemaToParsedRequest<T>>;

// @public
export const ValidationExceptionSchema: z.ZodObject<{
    message: z.ZodString;
    code: z.ZodOptional<z.ZodNativeEnum<typeof _ExceptionCode>>;
    statusCode: z.ZodNumber;
    error: z.ZodString;
}, "strip", z.ZodTypeAny, {
    message: string;
    statusCode: number;
    error: string;
    code?: _ExceptionCode | undefined;
}, {
    message: string;
    statusCode: number;
    error: string;
    code?: _ExceptionCode | undefined;
}>;

// @public
export type ValidationExceptionSchema = z.infer<typeof ValidationExceptionSchema>;

// (No @packageDocumentation comment for this package)

```
